<!doctype html><html lang=en-us><head><link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Is the BTree an efficient structure to model an order book? | uluwatu.xyz</title>
<link rel=canonical href=https://www.uluwatu.xyz/posts/btree_orderbook/><meta name=description content="Specialising in the design and build of both high performance engineering and statistical analysis 
  applications for financial markets. Primarily focused on blockchain technologies and the Rust and Python programming languages."><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:url" content="https://www.uluwatu.xyz/posts/btree_orderbook/"><meta property="og:site_name" content="uluwatu.xyz"><meta property="og:title" content="Is the BTree an efficient structure to model an order book?"><meta property="og:description" content="Introduction The order book is an interesting object to model, likely to be dense with orders near the top of the book and sparser as we walk outwards towards the less likely to get filled “stink bids”. While reading Database Internals: A Deep-Dive into How Distributed Data Systems Work 1, its low level discussion of BTree internals peaked my curiosity into the efficiency of using a BTree to model an orderbook. My main observations are:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-20T13:29:35+00:00"><meta property="article:modified_time" content="2023-12-20T13:29:35+00:00"><meta property="article:tag" content="Rust"><meta property="article:tag" content="Orderbook"><meta property="article:tag" content="Btree"><meta name=twitter:card content="summary"><meta name=twitter:title content="Is the BTree an efficient structure to model an order book?"><meta name=twitter:description content="Introduction The order book is an interesting object to model, likely to be dense with orders near the top of the book and sparser as we walk outwards towards the less likely to get filled “stink bids”. While reading Database Internals: A Deep-Dive into How Distributed Data Systems Work 1, its low level discussion of BTree internals peaked my curiosity into the efficiency of using a BTree to model an orderbook. My main observations are:"><link rel=stylesheet href=https://www.uluwatu.xyz/css/styles.be8ee55377c08ec503dbdf705855cac5c3dc8ed2611600fa8ca9d0303a3273a6204c917e726a3ada7f61541307829b81ebbca651adaba3509bfd5d2074a5c93f.css integrity="sha512-vo7lU3fAjsUD299wWFXKxcPcjtJhFgD6jKnQMDoyc6YgTJF+cmo62n9hVBMHgpuB67ymUa2ro1Cb/V0gdKXJPw=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://www.uluwatu.xyz/images/favicon.ico></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick='$("html, body").animate({scrollTop:0},"fast")' style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu><span id=nav><ul><li><a href=/>Home</a></li><li><a href=/posts>Posts</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://www.uluwatu.xyz/posts/adjusted_t-stat/ aria-label=Previous><i class="fas fa-chevron-left" aria-hidden=true onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li><li><a class=icon href=https://www.uluwatu.xyz/posts/ic-tcost-hurdle-rates/ aria-label=Next><i class="fas fa-chevron-right" aria-hidden=true onmouseover='$("#i-next").toggle()' onmouseout='$("#i-next").toggle()'></i></a></li><li><a class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up" aria-hidden=true onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class=icon href=# aria-label=Share><i class="fas fa-share-alt" aria-hidden=true onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f" aria-label=Facebook><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f&text=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f" aria-label=Twitter><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f&title=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f" aria-label=Linkedin><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f&is_video=false&description=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f" aria-label=Pinterest><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f&body=Check out this article: https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f" aria-label=Email><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f&title=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f" aria-label=Pocket><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f&title=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f" aria-label=reddit><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f&name=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f&description=%3ch1%20id%3d%22introduction%22%3eIntroduction%3c%2fh1%3e%0a%3cp%3eThe%20order%20book%20is%20an%20interesting%20object%20to%20model%2c%20likely%20to%20be%20dense%20with%20orders%20near%20the%20top%20of%20the%20book%20and%20sparser%20as%20we%20walk%20outwards%20towards%20the%20less%20likely%20to%20get%20filled%20%26ldquo%3bstink%20bids%26rdquo%3b.%20While%20reading%20%3cem%3eDatabase%20Internals%3a%20A%20Deep-Dive%20into%20How%20Distributed%20Data%20Systems%20Work%3c%2fem%3e%20%3csup%20id%3d%22fnref%3a1%22%3e%3ca%20href%3d%22%23fn%3a1%22%20class%3d%22footnote-ref%22%20role%3d%22doc-noteref%22%3e1%3c%2fa%3e%3c%2fsup%3e%2c%20its%20low%20level%20discussion%20of%20BTree%20internals%20peaked%20my%20curiosity%20into%20the%20efficiency%20of%20using%20a%20BTree%20to%20model%20an%20orderbook.%20My%20main%20observations%20are%3a%3c%2fp%3e" aria-label=Tumblr><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f&t=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f" aria-label="Hacker News"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div><div id=toc><nav id=TableOfContents><ul><li><a href=#profiling-the-orderbook-message-processing-logic>Profiling the orderbook message processing logic</a><ul><li><a href=#btreemap-perf-output>BTreeMap perf output</a></li><li><a href=#stablevec-perf-output>StableVec perf output</a></li></ul></li><li><a href=#profiling-the-orderbook-snapshotting-logic>Profiling the orderbook snapshotting logic</a></li></ul></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">Is the BTree an efficient structure to model an order book?</h1><div class=meta><div class=postdate><time datetime="2023-12-20 13:29:35 +0000 UTC" itemprop=datePublished>2023-12-20</time></div><div class=article-read-time><i class="far fa-clock"></i>
4 minute read</div><div class=article-tag><i class="fas fa-tag"></i>
<a class=tag-link href=/tags/rust rel=tag>rust</a>
,
<a class=tag-link href=/tags/orderbook rel=tag>orderbook</a>
,
<a class=tag-link href=/tags/btree rel=tag>btree</a></div></div></header><div class=content itemprop=articleBody><h1 id=introduction>Introduction</h1><p>The order book is an interesting object to model, likely to be dense with orders near the top of the book and sparser as we walk outwards towards the less likely to get filled &ldquo;stink bids&rdquo;. While reading <em>Database Internals: A Deep-Dive into How Distributed Data Systems Work</em> <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>, its low level discussion of BTree internals peaked my curiosity into the efficiency of using a BTree to model an orderbook. My main observations are:</p><ol><li><p>It was presented as a disadvantage that file based databases have to marshall their data structures explicitly on disk while in-memory databases only have to <code>malloc()</code> memory chunks from an allocator. However, if the memory returned from the allocator is fragmented then the cache efficiency of traversing the BTree structure is going to be impacted negatively.</p></li><li><p>The search path from the root node to the leafs involves a lot of searching sorted lists which equates to a lot of work for the CPUs branch predictor. Incorrectly guessed branches equates to wasted computation.</p></li><li><p>Mutations / admin tasks where nodes are expanded and collapsed dynamically suggests unpredictable latency spikes. This cost will be &ldquo;amortized&rdquo; in the CPU complexity of the structure - It would be unfortunate for us if this appeared during a period of high market intensity.</p></li></ol><p>One parameter we can tune to attempt to optimise the points above is <code>B</code>, controlling the number of entries in each BTree node. If we increase this we can leverage bigger nodes for memory cache efficiency due to data locality and incur some additional costs when searching / mutating. Unfortunately the Rust std implementation does not let you specify this parameter, it is hardcoded at 16.</p><h1 id=an-alternative---stablevec>An alternative - <code>StableVec</code></h1><p>Since we have a predictable range of keys (price ticks), can we throw memory at the problem and pre-allocate a cache friendly contiguous array of the size of every possible price?</p><p>The <a href=https://docs.rs/stable-vec/latest/stable_vec/>StableVec</a> library allows us to allocate a contiguous array with &ldquo;stable&rdquo; keys, stable meaning the memory they point to will never change (Unlike a Vec, where data indexes change as items are removed). This means when an entry is removed it is simply flagged as deleted and no cost of shifting entries backwards as you get with a standard Vec is incurred. This is conceptually the same as allocating a large Vec of Options and setting values to <code>None</code> instead of removing, for example: <code>Vec&lt;Option&lt;T>>::with_capacity(N)</code>.</p><p>The orderbook structure is useless if we can&rsquo;t get timely snapshots of the data to feed to our trading logic. After some research it becomes clear that the generic StableVec <code>Iterator</code> is to inefficient to retrieve our existing data. Due to the sparsity of the data, it implements a naive scan from 0 to the capacity of the structure:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Rust data-lang=Rust><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#ff79c6>unsafe</span> <span style=color:#ff79c6>fn</span> <span style=color:#50fa7b>first_filled_slot_from</span>(<span style=color:#ff79c6>&amp;</span>self, idx: <span style=color:#8be9fd>usize</span>) -&gt; <span style=color:#8be9fd;font-style:italic>Option</span><span style=color:#ff79c6>&lt;</span><span style=color:#8be9fd>usize</span><span style=color:#ff79c6>&gt;</span> {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>    debug_assert!(idx <span style=color:#ff79c6>&lt;=</span> self.cap());
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>    (idx<span style=color:#ff79c6>..</span>self.len()).find(<span style=color:#ff79c6>|&amp;</span>idx<span style=color:#ff79c6>|</span> self.has_element_at(idx))
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span>}</span></span></code></pre></div><p>In this proof of concept we have a significant capacity size of 1_000_000_000. To work around this we implement some tracking pointers which continually identify the best bid and ask indexes. When we generate a snapshot we skip the library Iterator and do a walk outward from these indexes manually.</p><h1 id=profiling>Profiling</h1><h2 id=profiling-the-orderbook-message-processing-logic>Profiling the orderbook message processing logic</h2><p>To benchmark we process a days worth of Binance L2 price updates for BTCUSDT into each orderbook implementation (141327104 bid and ask updates). We capture the elapsed time and look at the detailed ouput of the <code>perf</code> command.</p><table><thead><tr><th>Implementation</th><th>Elapsed</th></tr></thead><tbody><tr><td>BTree</td><td>12.9s</td></tr><tr><td>StableVec</td><td>5.9s</td></tr></tbody></table><p>We see a significant end to end speed up and as expected cache-misses and branches are notably reduced.</p><h3 id=btreemap-perf-output>BTreeMap perf output</h3><pre tabindex=0><code> Performance counter stats for &#39;target/release/btree-ob-eval b&#39;:

     3,681,556,457      cache-references
       202,381,615      cache-misses              #    5.497 % of all cache refs
   224,968,394,162      cycles
   595,727,002,465      instructions              #    2.65  insn per cycle
   140,040,270,447      branches
         2,761,188      faults
                38      migrations
</code></pre><h3 id=stablevec-perf-output>StableVec perf output</h3><pre tabindex=0><code> Performance counter stats for &#39;target/release/btree-ob-eval s&#39;:

     2,781,531,040      cache-references
       132,323,303      cache-misses              #    4.757 % of all cache refs
   196,283,494,716      cycles
   544,535,582,371      instructions              #    2.77  insn per cycle
   129,142,369,121      branches
         2,785,045      faults
                33      migrations
</code></pre><h2 id=profiling-the-orderbook-snapshotting-logic>Profiling the orderbook snapshotting logic</h2><p>When benchmarking the two implementations we take the mean of 5 <code>get_snapshot()</code> elapsed time measurements (with an prior call intended to warm the cache). Snapshot sizes are selected as multiples of the BTreeMaps <code>B</code> parameter (16), as it is likely that the memory fragmentation of the BTreeMap implementation scales somewhat relatively in multiples of this. The results are below:</p><table><thead><tr><th>Implementation</th><th>Snapshot(32)</th><th>snapshot(64)</th><th>snapshot(128)</th><th>snapshot(256)</th></tr></thead><tbody><tr><td>BTree</td><td>698.866us</td><td>711.125us</td><td>669.833us</td><td>745.166us</td></tr><tr><td>StableVec</td><td>524ns</td><td>825ns</td><td>1.641us</td><td>3.075us</td></tr></tbody></table><h1 id=conclusion>Conclusion</h1><p>The StableVec implementation has proven itself a superior alternative, notably in the bulk load benchmark but more significantly in the snapshot benchmark where it is consistently order of magnatudes faster than the BTree alternative. I believe this is due to the cache efficiency of the pre-allocated structure.</p><p>In terms of tuning the BTreeMap there are some interesting avenues we&rsquo;ve not explored. One is a study of tuning the <code>B</code> parameter on an implementation which allows it. Another is to provide the BTreeMap with a custom allocator (such as a bump allocator) which allows it to allocate nodes from the same block of contigous memory even over a long lifetime, exploiting memory locality.</p><p>Profiling code is provided <a href=https://github.com/uluwatu-xyz/rust-scratch-public/tree/main/btree-ob-eval>here</a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Database Internals: A Deep-Dive into How Distributed Data Systems Work - <a href=https://www.databass.dev/>https://www.databass.dev/</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div></article><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=/>Home</a></li><li><a href=/posts>Posts</a></li></ul></div><div id=toc-footer style=display:none><nav id=TableOfContents><ul><li><a href=#profiling-the-orderbook-message-processing-logic>Profiling the orderbook message processing logic</a><ul><li><a href=#btreemap-perf-output>BTreeMap perf output</a></li><li><a href=#stablevec-perf-output>StableVec perf output</a></li></ul></li><li><a href=#profiling-the-orderbook-snapshotting-logic>Profiling the orderbook snapshotting logic</a></li></ul></nav></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f" aria-label=Facebook><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f&text=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f" aria-label=Twitter><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f&title=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f" aria-label=Linkedin><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f&is_video=false&description=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f" aria-label=Pinterest><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f&body=Check out this article: https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f" aria-label=Email><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f&title=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f" aria-label=Pocket><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f&title=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f" aria-label=reddit><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f&name=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f&description=%3ch1%20id%3d%22introduction%22%3eIntroduction%3c%2fh1%3e%0a%3cp%3eThe%20order%20book%20is%20an%20interesting%20object%20to%20model%2c%20likely%20to%20be%20dense%20with%20orders%20near%20the%20top%20of%20the%20book%20and%20sparser%20as%20we%20walk%20outwards%20towards%20the%20less%20likely%20to%20get%20filled%20%26ldquo%3bstink%20bids%26rdquo%3b.%20While%20reading%20%3cem%3eDatabase%20Internals%3a%20A%20Deep-Dive%20into%20How%20Distributed%20Data%20Systems%20Work%3c%2fem%3e%20%3csup%20id%3d%22fnref%3a1%22%3e%3ca%20href%3d%22%23fn%3a1%22%20class%3d%22footnote-ref%22%20role%3d%22doc-noteref%22%3e1%3c%2fa%3e%3c%2fsup%3e%2c%20its%20low%20level%20discussion%20of%20BTree%20internals%20peaked%20my%20curiosity%20into%20the%20efficiency%20of%20using%20a%20BTree%20to%20model%20an%20orderbook.%20My%20main%20observations%20are%3a%3c%2fp%3e" aria-label=Tumblr><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.uluwatu.xyz%2fposts%2fbtree_orderbook%2f&t=Is%20the%20BTree%20an%20efficient%20structure%20to%20model%20an%20order%20book%3f" aria-label="Hacker News"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu-toggle class=icon href=# onclick='return $("#nav-footer").toggle(),!1' aria-label=Menu><i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick='return $("#toc-footer").toggle(),!1' aria-label=TOC><i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick='return $("#share-footer").toggle(),!1' aria-label=Share><i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2025 Uluwatu.xyz 2024</div><div class=footer-right><nav><ul><li><a href=/>Home</a></li><li><a href=/posts>Posts</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script><script src=/js/main.js></script><script src=/js/code-copy.js></script></html>